# ================================
# Retroworld IA (Render / local)
# ================================

# --- OpenAI ---
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# IMPORTANT: modèle minimum requis = GPT-5
# Exemples valides: gpt-5, gpt-5.1, gpt-5-mini, ...
OPENAI_MODEL=gpt-4.1-mini

# Réglages génération
OPENAI_TEMPERATURE=0.4
OPENAI_MAX_TOKENS=900

# Historique (cohérence conversation)
# - OPENAI_HISTORY_MODE=full  => on envoie la conversation entière autant que possible
# - OPENAI_HISTORY_MODE=recent => on envoie seulement les derniers échanges
OPENAI_HISTORY_MODE=full
OPENAI_MAX_HISTORY_PAIRS=120
OPENAI_PROMPT_CHAR_BUDGET=32000

# --- Service ---
PORT=10000
TZ=Europe/Paris

# Dossiers (laissez par défaut sur Render)
# DATA_DIR=./data
# KB_DIR=.

# --- Sécurité (optionnel mais recommandé) ---
# Token pour accéder au tableau de bord admin (/admin)
ADMIN_DASHBOARD_TOKEN=changez-moi

# Token pour lire l'historique utilisateur (/user/<user_id>/history)
USER_HISTORY_TOKEN=changez-moi-aussi

# Logging
LOG_LEVEL=INFO

# Modèles de secours (utilisés si OPENAI_MODEL n'est pas accessible)
OPENAI_FALLBACK_MODELS=gpt-4.1-mini,gpt-4.1,gpt-4o
